"use strict";(self.webpackChunkh3_website=self.webpackChunkh3_website||[]).push([[3919],{3905:(t,e,r)=>{r.d(e,{Zo:()=>p,kt:()=>m});var n=r(7294);function a(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach((function(e){a(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function o(t,e){if(null==t)return{};var r,n,a=function(t,e){if(null==t)return{};var r,n,a={},l=Object.keys(t);for(n=0;n<l.length;n++)r=l[n],e.indexOf(r)>=0||(a[r]=t[r]);return a}(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(n=0;n<l.length;n++)r=l[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}var s=n.createContext({}),u=function(t){var e=n.useContext(s),r=e;return t&&(r="function"==typeof t?t(e):i(i({},e),t)),r},p=function(t){var e=u(t.components);return n.createElement(s.Provider,{value:e},t.children)},c={inlineCode:"code",wrapper:function(t){var e=t.children;return n.createElement(n.Fragment,{},e)}},d=n.forwardRef((function(t,e){var r=t.components,a=t.mdxType,l=t.originalType,s=t.parentName,p=o(t,["components","mdxType","originalType","parentName"]),d=u(r),m=a,g=d["".concat(s,".").concat(m)]||d[m]||c[m]||l;return r?n.createElement(g,i(i({ref:e},p),{},{components:r})):n.createElement(g,i({ref:e},p))}));function m(t,e){var r=arguments,a=e&&e.mdxType;if("string"==typeof t||a){var l=r.length,i=new Array(l);i[0]=d;var o={};for(var s in e)hasOwnProperty.call(e,s)&&(o[s]=e[s]);o.originalType=t,o.mdxType="string"==typeof t?t:a,i[1]=o;for(var u=2;u<l;u++)i[u]=r[u];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}d.displayName="MDXCreateElement"},3045:(t,e,r)=>{r.r(e),r.d(e,{assets:()=>s,contentTitle:()=>i,default:()=>c,frontMatter:()=>l,metadata:()=>o,toc:()=>u});var n=r(7462),a=(r(7294),r(3905));const l={id:"testing",title:"Testing strategy",sidebar_label:"Testing strategy",slug:"/core-library/testing"},i=void 0,o={unversionedId:"core-library/testing",id:"core-library/testing",title:"Testing strategy",description:"The H3 developers try to ensure the robustness and reliability of the H3 library. Tools used to do this include unit tests with coverage reporting",source:"@site/docs/core-library/testing.md",sourceDirName:"core-library",slug:"/core-library/testing",permalink:"/docs/core-library/testing",draft:!1,editUrl:"https://github.com/uber/h3/edit/master/website/docs/core-library/testing.md",tags:[],version:"current",frontMatter:{id:"testing",title:"Testing strategy",sidebar_label:"Testing strategy",slug:"/core-library/testing"},sidebar:"someSidebar",previous:{title:"Compilation options",permalink:"/docs/core-library/compilation-options"},next:{title:"Memory allocation",permalink:"/docs/core-library/custom-alloc"}},s={},u=[{value:"Unit testing",id:"unit-testing",level:2},{value:"Benchmarks",id:"benchmarks",level:2},{value:"Fuzzers",id:"fuzzers",level:2}],p={toc:u};function c(t){let{components:e,...r}=t;return(0,a.kt)("wrapper",(0,n.Z)({},p,r,{components:e,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"The H3 developers try to ensure the robustness and reliability of the H3 library. Tools used to do this include unit tests with coverage reporting\nand fuzzing."),(0,a.kt)("p",null,"The H3 library may despite these efforts behave unexpectedly; in these cases the developers\n",(0,a.kt)("a",{parentName:"p",href:"https://github.com/uber/h3/blob/master/CONTRIBUTING.md"},"welcome feedback and contributions"),"."),(0,a.kt)("h2",{id:"unit-testing"},"Unit testing"),(0,a.kt)("p",null,"Github Actions are used to run the H3 test suite for every commit. A variety of configurations, described below, are tested."),(0,a.kt)("p",null,"Coverage information is collected in Coveralls. Because of the self-contained nature of the H3 library, we seek\nto have as close to 100% code coverage as possible."),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"Operating system"),(0,a.kt)("th",{parentName:"tr",align:null},"Compiler"),(0,a.kt)("th",{parentName:"tr",align:null},"Processor architecture"),(0,a.kt)("th",{parentName:"tr",align:null},"Special notes"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Linux (Ubuntu)"),(0,a.kt)("td",{parentName:"tr",align:null},"Clang"),(0,a.kt)("td",{parentName:"tr",align:null},"x64"),(0,a.kt)("td",{parentName:"tr",align:null},"clang-format-9 is used to ensure all code is consistently formatted")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Linux"),(0,a.kt)("td",{parentName:"tr",align:null},"Clang"),(0,a.kt)("td",{parentName:"tr",align:null},"x64"),(0,a.kt)("td",{parentName:"tr",align:null},"An additional copy of the job runs with Valgrind")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Linux"),(0,a.kt)("td",{parentName:"tr",align:null},"Clang"),(0,a.kt)("td",{parentName:"tr",align:null},"x64"),(0,a.kt)("td",{parentName:"tr",align:null},"An additional copy of the job runs with coverage reporting, and excerising the ",(0,a.kt)("inlineCode",{parentName:"td"},"H3_PREFIX")," mechanism.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Linux"),(0,a.kt)("td",{parentName:"tr",align:null},"gcc"),(0,a.kt)("td",{parentName:"tr",align:null},"x64"),(0,a.kt)("td",{parentName:"tr",align:null})),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Mac OS"),(0,a.kt)("td",{parentName:"tr",align:null},"Apple Clang"),(0,a.kt)("td",{parentName:"tr",align:null},"x64"),(0,a.kt)("td",{parentName:"tr",align:null})),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Windows"),(0,a.kt)("td",{parentName:"tr",align:null},"MSVC"),(0,a.kt)("td",{parentName:"tr",align:null},"x64"),(0,a.kt)("td",{parentName:"tr",align:null},"Static library")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Windows"),(0,a.kt)("td",{parentName:"tr",align:null},"MSVC"),(0,a.kt)("td",{parentName:"tr",align:null},"x86"),(0,a.kt)("td",{parentName:"tr",align:null},"Static library")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Windows"),(0,a.kt)("td",{parentName:"tr",align:null},"MSVC"),(0,a.kt)("td",{parentName:"tr",align:null},"x64"),(0,a.kt)("td",{parentName:"tr",align:null},"Dynamic library; testing is not run in this configuration")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Windows"),(0,a.kt)("td",{parentName:"tr",align:null},"MSVC"),(0,a.kt)("td",{parentName:"tr",align:null},"x86"),(0,a.kt)("td",{parentName:"tr",align:null},"Dynamic library; testing is not run in this configuration")))),(0,a.kt)("h2",{id:"benchmarks"},"Benchmarks"),(0,a.kt)("p",null,"H3 uses benchmarks to offer a comparison of the library's performance between revisions."),(0,a.kt)("p",null,"Benchmarks are automatically run on Linux x64 with Clang and GCC compilers for each commit in Github Actions."),(0,a.kt)("h2",{id:"fuzzers"},"Fuzzers"),(0,a.kt)("p",null,"H3 uses ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/uber/h3/tree/master/src/apps/fuzzers"},"fuzzers")," to find novel inputs that crash or result in other undefined behavior."),(0,a.kt)("p",null,"On each commit, CI is triggered to run ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/google/oss-fuzz/tree/master/projects/h3"},"oss-fuzz")," for H3."))}c.isMDXComponent=!0}}]);
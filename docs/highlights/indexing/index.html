<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.0">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="H3 Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="H3 Blog Atom Feed"><title data-react-helmet="true">Indexing | H3</title><meta data-react-helmet="true" property="og:url" content="https://h3geo.org/docs/highlights/indexing"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="3.x"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-3.x"><meta data-react-helmet="true" property="og:title" content="Indexing | H3"><meta data-react-helmet="true" name="description" content="H3 is a hierarchical geospatial index. H3 indexes refer to cells by the spatial hierarchy. Every hexagonal cell, up to the maximum resolution supported by H3, has seven child cells below it in this hierarchy. This subdivision is referred to as aperture 7."><meta data-react-helmet="true" property="og:description" content="H3 is a hierarchical geospatial index. H3 indexes refer to cells by the spatial hierarchy. Every hexagonal cell, up to the maximum resolution supported by H3, has seven child cells below it in this hierarchy. This subdivision is referred to as aperture 7."><link data-react-helmet="true" rel="shortcut icon" href="/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://h3geo.org/docs/highlights/indexing"><link data-react-helmet="true" rel="alternate" href="https://h3geo.org/docs/highlights/indexing" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://h3geo.org/docs/highlights/indexing" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.354e01f4.css">
<link rel="preload" href="/assets/js/runtime~main.0b7a7c31.js" as="script">
<link rel="preload" href="/assets/js/main.ded00750.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/images/h3Logo-color.svg" alt="H3 Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/images/h3Logo-color.svg" alt="H3 Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">H3</strong></a><a class="navbar__item navbar__link" href="/docs">Intro</a><a class="navbar__item navbar__link" href="/docs/api/indexing">API</a><a class="navbar__item navbar__link" href="/docs/community/bindings">Bindings</a><a class="navbar__item navbar__link" href="/docs/core-library/restable">Resolutions</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__item navbar__link" href="/docs/">3.x</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/next/highlights/indexing">4.x (alpha)</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/highlights/indexing">3.x</a></li></ul></div><a href="https://github.com/uber/h3" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/images/h3Logo-color.svg" alt="H3 Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/images/h3Logo-color.svg" alt="H3 Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">H3</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs">Intro</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/api/indexing">API</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/community/bindings">Bindings</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/core-library/restable">Resolutions</a></li><li class="menu__list-item"><a role="button" class="menu__link menu__link--sublist">Versions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/next/highlights/indexing">4.x (alpha)</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/docs/highlights/indexing">3.x</a></li></ul></li><li class="menu__list-item"><a href="https://github.com/uber/h3" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Getting Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/">Introduction</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">Highlights</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/highlights/aggregation">Aggregation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/highlights/joining">Joining</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/highlights/flowmodel">Flow Modelling</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/highlights/ml">Machine Learning</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/highlights/indexing">Indexing</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Comparisons</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/comparisons/s2">S2</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/comparisons/geohash">Geohash</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/comparisons/hexbin">Hexbin</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/comparisons/admin">Admin Boundaries</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/comparisons/placekey">Placekey</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/installation">Installation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/quickstart">Quick Start</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">API Reference</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/indexing">Indexing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/inspection">Inspection</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/traversal">Traversal</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/hierarchy">Hierarchy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/regions">Regions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/uniedge">Unidirectional edges</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api/misc">Miscellaneous</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Community</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/community/bindings">Bindings</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/community/libraries">Libraries Using H3</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/community/tutorials">Learning Resources</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/community/applications">Applications Using H3</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">H3 Internals</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/core-library/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/core-library/restable">Table of Cell Areas for H3 Resolutions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/core-library/h3Indexing">H3 Index Representations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/core-library/coordsystems">Coordinate systems</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/core-library/creating-bindings">Creating bindings</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/core-library/custom-alloc">Memory allocation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/core-library/usage">Public API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/core-library/filters">Unix-style Filters for H3</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Algorithms</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/core-library/geoToH3desc">Conversion from latitude/longitude to containing H3 cell index</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/core-library/h3ToGeoDesc">Determine the latitude/longitude coordinates of the center point of an H3Index cell</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/core-library/h3ToGeoBoundaryDesc">Generate the cell boundary in latitude/longitude coordinates of an H3Index cell</a></li></ul></li></ul></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div><span class="badge badge--secondary">Version: 3.x</span></div><header><h1 class="docTitle_3a4h">Indexing</h1></header><div class="markdown"><p>H3 is a hierarchical geospatial index. H3 indexes refer to cells by the spatial hierarchy. Every hexagonal cell, up to the maximum resolution supported by H3, has seven child cells below it in this hierarchy. This subdivision is referred to as <em>aperture 7</em>.</p><div align="center"><img src="/images/parent-child.png" style="width:400px"><br><i>A parent hexagon approximately contains seven children</i></div><p>Hexagons do not cleanly subdivide into seven finer hexagons. However, by alternating the orientation of grids a subdivision into seven cells can be approximated. This makes it possible to truncate the precision within a fixed margin of error of an H3 index. It is also possible to determine all the children of a parent H3 index.</p><p>Approximate containment only applies when truncating the precision of an H3 index. The borders of hexagons indexed at a specific resolution are not approximate and not affected by these considerations. For example, indexing points to cells at a certain resolution and finding those cell&#x27;s neighbors is not affected by approximate containment.</p><p>While geographic containment is approximate, logical containment in the index is exact. It is possible to use H3 as an exact logical index on top of data indexed at a specific resolution.</p><p>This approximation allows for efficiently relating datasets indexed at different resolutions of the H3 grid. The functions for changing precision (<code>h3ToParent</code>, <code>h3ToChildren</code>) are implemented with only a few bitwise operations, making them very fast. The structure of the H3 index means that geographically close locations will tend to have numerically close indexes.</p><p>The hierarchical structure can also be used in analysis, when the precision or uncertainty for a location needs to be encoded in the spatial index. For example, a point from a GPS receiver could be indexed at a coarser resolution when the precision of the signal is lower, or some cells could be aggregated to a parent cell when there are too few data points in each of the finer cells.</p><p>Hierarchical containment allows for use cases like making contiguous sets of cells &quot;compact&quot; with <code>compactCells</code>. It is then possible to <code>uncompactCells</code> to the same input set of cells, or to test whether a cell is contained by the compact set.</p><table><thead><tr><th>Uncompacted (dense)</th><th>Compacted (sparse)</th></tr></thead><tbody><tr><td><img src="/images/ca_uncompact_6_10633.png" style="width:500px"></td><td><img src="/images/ca_compact_6_901.png" style="width:500px"></td></tr><tr><td>California represented by 10633 uncompacted cells</td><td>California represented by 901 compacted cells</td></tr></tbody></table><p>In use cases where exact boundaries are needed applications must take care to handle the hierarchical concerns. This can be done by taking care to use the hierarchy as a logical one rather than geographic. Another useful approach is using the grid system as an optimization in addition to a more precise point-in-polygon check.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="links"></a>Links<a class="hash-link" href="#links" title="Direct link to heading">#</a></h2><ul><li>Observable notebook example: <a href="https://observablehq.com/@nrabinowitz/h3-hierarchical-non-containment?collection=@nrabinowitz/h3" target="_blank" rel="noopener noreferrer">H3 Hierarchical (Non)Containment</a></li><li>Observable notebook example: <a href="https://observablehq.com/@nrabinowitz/shape-simplification-with-h3?collection=@nrabinowitz/h3" target="_blank" rel="noopener noreferrer">Shape simplification with H3</a></li></ul></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/uber/h3/edit/master/website/docs/highlights/indexing.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/highlights/ml"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Machine Learning</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/comparisons/s2"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">S2 Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#links" class="table-of-contents__link">Links</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/installation">Installation</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/api/indexing">API Reference</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/h3" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow</a></li><li class="footer__item"><a href="https://join.slack.com/t/h3-core/shared_invite/zt-g6u5r1hf-W_~uVJmfeiWtMQuBGc1NNg" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Source</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/uber/h3" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 Uber Technologies, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.0b7a7c31.js"></script>
<script src="/assets/js/main.ded00750.js"></script>
</body>
</html>